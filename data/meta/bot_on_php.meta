a:2:{s:7:"current";a:9:{s:4:"date";a:2:{s:7:"created";i:1613333387;s:8:"modified";i:1613334836;}s:7:"creator";s:6:"ruslan";s:4:"user";s:6:"chifek";s:11:"last_change";a:8:{s:4:"date";i:1613334836;s:2:"ip";s:11:"95.31.13.88";s:4:"type";s:1:"E";s:2:"id";s:10:"bot_on_php";s:4:"user";s:6:"chifek";s:3:"sum";s:0:"";s:5:"extra";s:0:"";s:10:"sizechange";i:91;}s:11:"contributor";a:1:{s:6:"chifek";s:6:"ruslan";}s:5:"title";s:68:"Пишем простого чат-бота для Telegram на PHP";s:11:"description";a:2:{s:15:"tableofcontents";a:16:{i:0;a:4:{s:3:"hid";s:68:"пишем_простого_чат-бота_для_telegram_на_php";s:5:"title";s:68:"Пишем простого чат-бота для Telegram на PHP";s:4:"type";s:2:"ul";s:5:"level";i:1;}i:1;a:4:{s:3:"hid";s:52:"шаг_1регистрация_бота_у_botfather";s:5:"title";s:55:"Шаг 1: регистрация бота у @BotFather";s:4:"type";s:2:"ul";s:5:"level";i:2;}i:2;a:4:{s:3:"hid";s:73:"шаг_2выбираем_способ_обработки_запросов";s:5:"title";s:75:"Шаг 2: выбираем способ обработки запросов";s:4:"type";s:2:"ul";s:5:"level";i:2;}i:3;a:4:{s:3:"hid";s:25:"шаг_3пишем_код";s:5:"title";s:27:"Шаг 3: пишем код";s:4:"type";s:2:"ul";s:5:"level";i:2;}i:4;a:4:{s:3:"hid";s:43:"разберем_всё_по_порядку";s:5:"title";s:44:"Разберем всё по порядку.";s:4:"type";s:2:"ul";s:5:"level";i:2;}i:5;a:4:{s:3:"hid";s:171:"сначала_мы_подключаем_скачанную_библиотеку_указав_путь_лучше_полный_до_файла_автозагрузчика";s:5:"title";s:178:"1. Сначала мы подключаем скачанную библиотеку, указав путь (лучше полный) до файла автозагрузчика.";s:4:"type";s:2:"ul";s:5:"level";i:3;}i:6;a:4:{s:3:"hid";s:129:"создаем_экземпляр_класса_в_переменной_telegram_и_передаем_в_него_наш_токен";s:5:"title";s:134:"2. Создаем экземпляр класса в переменной $telegram и передаем в него наш токен.";s:4:"type";s:2:"ul";s:5:"level";i:3;}i:7;a:4:{s:3:"hid";s:355:"затем_определяем_главные_переменныетекстовое_сообщение_уникальный_идентификатор_пользователя_и_его_юзернейм_если_предстоит_работа_с_бд_то_не_забывайте_про_фильтрацию_или_лучше_используйте_pdo";s:5:"title";s:366:"3. Затем определяем главные переменные: текстовое сообщение, уникальный идентификатор пользователя и его юзернейм. Если предстоит работа с БД, то не забывайте про фильтрацию (или лучше используйте PDO).";s:4:"type";s:2:"ul";s:5:"level";i:3;}i:8;a:4:{s:3:"hid";s:90:"создаем_нашу_клавиатуру_состоящую_из_трех_кнопок";s:5:"title";s:95:"4. Создаем нашу клавиатуру, состоящую из трех кнопок.";s:4:"type";s:2:"ul";s:5:"level";i:3;}i:9;a:4:{s:3:"hid";s:459:"теперь_когда_мы_обозначили_все_переменные_можно_перейти_к_обработке_полученного_сообщения_для_этого_можно_использовать_конструкцию_switch-case_либо_if-else_так_как_принципиальной_разницы_между_ними_нет_остановимся_на_втором_варианте_как_наиболее_привычном";s:5:"title";s:469:"5. Теперь, когда мы обозначили все переменные, можно перейти к обработке полученного сообщения. Для этого можно использовать конструкцию switch-case либо if-else. Так как принципиальной разницы между ними нет, остановимся на втором варианте, как наиболее привычном.";s:4:"type";s:2:"ul";s:5:"level";i:3;}i:10;a:4:{s:3:"hid";s:145:"рассмотрим_вариант_когда_пользователь_прислал_сообщение_с_командами_start_или_help";s:5:"title";s:151:"6. Рассмотрим вариант, когда пользователь прислал сообщение с командами /start или /help";s:4:"type";s:2:"ul";s:5:"level";i:3;}i:11;a:4:{s:3:"hid";s:270:"после_появления_клавиатуры_пользователь_явно_захочет_попробовать_потыкать_на_расположенные_на_ней_кнопки_и_вот_что_у_нас_под_капотом_в_этом_случае";s:5:"title";s:279:"7. После появления клавиатуры пользователь явно захочет попробовать потыкать на расположенные на ней кнопки, и вот что у нас «под капотом» в этом случае:";s:4:"type";s:2:"ul";s:5:"level";i:3;}i:12;a:4:{s:3:"hid";s:485:"для_отправки_картинки_используется_метод_sendphoto_для_отправки_гифки_senddocument_в_обоих_случаях_telegram_позволяет_передавать_прямую_ссылку_на_файл_что_безусловно_очень_удобно_но_не_так_быстро_как_если_бы_мы_передавали_file_id_уже_отправленной_на_сервера_telegram_картинки_или_гифки";s:5:"title";s:498:"8. Для отправки картинки используется метод sendPhoto, для отправки гифки – sendDocument. В обоих случаях Telegram позволяет передавать прямую ссылку на файл, что безусловно очень удобно, но не так быстро, как если бы мы передавали file_id уже отправленной на сервера Telegram картинки или гифки.";s:4:"type";s:2:"ul";s:5:"level";i:3;}i:13;a:4:{s:3:"hid";s:229:"для_получения_последних_статей_используется_простой_парсинг_rss_ленты_нетологии_при_помощи_встроенной_в_php_функции_simplexml_load_file";s:5:"title";s:233:"9. Для получения последних статей используется простой парсинг RSS ленты Нетологии при помощи встроенной в PHP функции simplexml_load_file.";s:4:"type";s:2:"ul";s:5:"level";i:3;}i:14;a:4:{s:3:"hid";s:233:"в_качестве_смайла_стрелка_вправо_используются_символы_xe2_x9e_xa1_список_всех_смайлов_в_таком_виде_можно_найти_на_специальном_сайте";s:5:"title";s:242:"10. В качестве смайла (стрелка вправо) используются символы \xE2\x9E\xA1. Список всех смайлов в таком виде можно найти на специальном сайте.";s:4:"type";s:2:"ul";s:5:"level";i:3;}i:15;a:4:{s:3:"hid";s:223:"после_того_как_вы_протестируете_бота_и_будете_уверены_в_его_работоспособности_можно_отправлять_его_на_всеобщее_обозрение";s:5:"title";s:230:"11. После того, как вы протестируете бота и будете уверены в его работоспособности, можно отправлять его на всеобщее обозрение.";s:4:"type";s:2:"ul";s:5:"level";i:3;}}s:8:"abstract";s:338:"Пишем простого чат-бота для Telegram на PHP

24 июня 2015 года разработчики Telegram открыли платформу для создания ботов (программ, которые выполняют определенные действия по заданному алгоритму).";}s:8:"internal";a:2:{s:5:"cache";b:1;s:3:"toc";b:1;}s:8:"relation";a:1:{s:10:"firstimage";s:0:"";}}s:10:"persistent";a:5:{s:4:"date";a:2:{s:7:"created";i:1613333387;s:8:"modified";i:1613334836;}s:7:"creator";s:6:"ruslan";s:4:"user";s:6:"chifek";s:11:"last_change";a:8:{s:4:"date";i:1613334836;s:2:"ip";s:11:"95.31.13.88";s:4:"type";s:1:"E";s:2:"id";s:10:"bot_on_php";s:4:"user";s:6:"chifek";s:3:"sum";s:0:"";s:5:"extra";s:0:"";s:10:"sizechange";i:91;}s:11:"contributor";a:1:{s:6:"chifek";s:6:"ruslan";}}}