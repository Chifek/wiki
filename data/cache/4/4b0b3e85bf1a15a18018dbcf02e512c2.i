a:248:{i:0;a:3:{i:0;s:14:"document_start";i:1;a:0:{}i:2;i:0;}i:1;a:3:{i:0;s:6:"header";i:1;a:3:{i:0;s:56:"Использование утилиты UFW на Linux";i:1;i:1;i:2;i:1;}i:2;i:1;}i:2;a:3:{i:0;s:12:"section_open";i:1;a:1:{i:0;i:1;}i:2;i:1;}i:3;a:3:{i:0;s:13:"section_close";i:1;a:0:{}i:2;i:75;}i:4;a:3:{i:0;s:6:"header";i:1;a:3:{i:0;s:170:"В инструкции описаны основы работы с утилитой ufw на виртуальных серверах под управлением Linux.";i:1;i:2;i:2;i:75;}i:2;i:75;}i:5;a:3:{i:0;s:12:"section_open";i:1;a:1:{i:0;i:2;}i:2;i:75;}i:6;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:75;}i:7;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:676:"Что это такое?
UFW (Uncomplicated Firewall) - является самым простым и довольно популярным в инструментарием командной строки для настройки и управления брандмауэром в дистрибутивах Ubuntu и Debian. Правильно функционирующий брандмауэр является наиболее важной частью полной безопасности системы Linux. UFW позволяет сделать базовые настройки, для более сложных настроек используйте iptables.";}i:2;i:260;}i:8;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:936;}i:9;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:936;}i:10;a:3:{i:0;s:11:"strong_open";i:1;a:0:{}i:2;i:938;}i:11;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:49:"Первоначальные требования";}i:2;i:940;}i:12;a:3:{i:0;s:12:"strong_close";i:1;a:0:{}i:2;i:989;}i:13;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:991;}i:14;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:991;}i:15;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:354:"Для того чтобы выполнить настройку firewall с помощью ufw необходимо подключиться к серверу с правами суперпользователя, о том как разрешить команду sudo для пользователей читайте в нашей инструкции.";}i:2;i:994;}i:16;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:1348;}i:17;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:1348;}i:18;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:473:"На наших VPS по умолчанию включен iptables, крайне не рекомендуется использовать одновременно два инструмента для настройки firewall во избежание конфликта правил. В случае, если у вас одновременно работает и iptables, и ufw, то будет применено последнее созданное правило.";}i:2;i:1350;}i:19;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:1823;}i:20;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:1823;}i:21;a:3:{i:0;s:11:"strong_open";i:1;a:0:{}i:2;i:1825;}i:22;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:53:"Установка и проверка статуса";}i:2;i:1827;}i:23;a:3:{i:0;s:12:"strong_close";i:1;a:0:{}i:2;i:1880;}i:24;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:1882;}i:25;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:1882;}i:26;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:309:"По умолчанию, на наших виртуальных серверах ufw уже установлена, если по каким-то причинам требуется установка, то сделать это можно с помощью вашего пакетного менеджера:";}i:2;i:1885;}i:27;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:2194;}i:28;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:20:"sudo apt install ufw";i:1;N;i:2;N;}i:2;i:2201;}i:29;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:2201;}i:30;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:165:"Проверить текущий статус и вывести все текущие правила можно с помощью следующей команды:";}i:2;i:2231;}i:31;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:2396;}i:32;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:23:"sudo ufw status verbose";i:1;N;i:2;N;}i:2;i:2403;}i:33;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:2403;}i:34;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:121:"Например, в выключенном состоянии вы увидите следующее сообщение:";}i:2;i:2436;}i:35;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:2557;}i:36;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:16:"Status: inactive";i:1;N;i:2;N;}i:2;i:2565;}i:37;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:2565;}i:38;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:89:"Включить firewall можно с помощью следующей команды:";}i:2;i:2591;}i:39;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:2686;}i:40;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:15:"sudo ufw enable";i:1;N;i:2;N;}i:2;i:2686;}i:41;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:2686;}i:42;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:266:"В диалоговом окне необходимо ответить на вопрос, при использовании нашей инфраструктуры соединение не пропадет, если вы ранее не отключили iptables:";}i:2;i:2711;}i:43;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:2977;}i:44;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:126:"Command may disrupt existing ssh connections.
Proceed with operation (y|n)? y
Firewall is active and enabled on system startup";i:1;N;i:2;N;}i:2;i:2984;}i:45;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:2984;}i:46;a:3:{i:0;s:13:"emphasis_open";i:1;a:0:{}i:2;i:3120;}i:47;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:255:"Примечание: если при настройке Firewall у вас все-таки пропало соединение сервером, то подключитесь к нему через web-консоль в панели управления.";}i:2;i:3122;}i:48;a:3:{i:0;s:14:"emphasis_close";i:1;a:0:{}i:2;i:3377;}i:49;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:3379;}i:50;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:3379;}i:51;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:54:"В результате ufw будет активен:";}i:2;i:3381;}i:52;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:3435;}i:53;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:113:"Status: active
Logging: on (low)
Default: deny (incoming), allow (outgoing), disabled (routed)
New profiles: skip";i:1;N;i:2;N;}i:2;i:3442;}i:54;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:3442;}i:55;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:117:"Если Вам потребуется отключить утилиту, то используйте команду:";}i:2;i:3565;}i:56;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:3682;}i:57;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:16:"sudo ufw disable";i:1;N;i:2;N;}i:2;i:3689;}i:58;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:3689;}i:59;a:3:{i:0;s:11:"strong_open";i:1;a:0:{}i:2;i:3715;}i:60;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:40:"Политики по умолчанию";}i:2;i:3717;}i:61;a:3:{i:0;s:12:"strong_close";i:1;a:0:{}i:2;i:3757;}i:62;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:3759;}i:63;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:3759;}i:64;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:579:"По умолчанию брандмауэр UFW отклоняет все входящие соединения и разрешает только исходящие подключения к серверу. Это означает, что никто не может получить доступ к вашему серверу, если только вы специально не открываете порт, а все запущенные службы или приложения на вашем сервере могут иметь доступ к внешней сети.";}i:2;i:3762;}i:65;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:4341;}i:66;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:4341;}i:67;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:208:"Политики безопасности по умолчанию находятся в файле /etc/default/ufw и могут быть изменены с помощью следующей команды:";}i:2;i:4343;}i:68;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:4557;}i:69;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:62:"sudo ufw default deny incoming
sudo ufw default allow outgoing";i:1;N;i:2;N;}i:2;i:4557;}i:70;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:4557;}i:71;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:146:"Первое правило запрещает все входящие подключения, второе разрешает исходящие.";}i:2;i:4629;}i:72;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:4775;}i:73;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:4775;}i:74;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:552:"Профили приложений
При установке программного пакета ufw с использованием диспетчера пакетов он будет включать в себя профили приложений, находящиеся в каталоге /etc/ufw/applications.d, который определяет приложение или службу и соответствующие им настройки безопасности, например открытые или закрытые порты.";}i:2;i:4777;}i:75;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:5329;}i:76;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:5329;}i:77;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:157:"Все профили создаются вручную. Посмотреть созданные профили можно следующим образом:";}i:2;i:5331;}i:78;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:5488;}i:79;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:17:"sudo ufw app list";i:1;N;i:2;N;}i:2;i:5495;}i:80;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:5495;}i:81;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:170:"На только, что созданном виртуальном сервере вы скорее всего увидите только профиль для OpenSSH:";}i:2;i:5522;}i:82;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:5692;}i:83;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:34:"Available applications:

  OpenSSH";i:1;N;i:2;N;}i:2;i:5700;}i:84;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:5700;}i:85;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:136:"Для просмотра детальной информации можно использовать следующую команду:";}i:2;i:5746;}i:86;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:5882;}i:87;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:67:"sudo ufw app info '<название_ПО>'</название_ПО>";i:1;N;i:2;N;}i:2;i:5889;}i:88;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:5889;}i:89;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:17:"Например:";}i:2;i:5966;}i:90;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:5989;}i:91;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:27:"sudo ufw app info 'OpenSSH'";i:1;N;i:2;N;}i:2;i:5989;}i:92;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:5989;}i:93;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:19:"Результат:";}i:2;i:6026;}i:94;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:6051;}i:95;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:156:"Profile: OpenSSH
Title: Secure shell server, an rshd replacement
Description: OpenSSH is a free implementation of the Secure Shell protocol.

Port:
  22/tcp";i:1;N;i:2;N;}i:2;i:6051;}i:96;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:6051;}i:97;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:103:"Для создания профиля приложения перейдите в директорию:";}i:2;i:6219;}i:98;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:6328;}i:99;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:26:"cd /etc/ufw/applications.d";i:1;N;i:2;N;}i:2;i:6328;}i:100;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:6328;}i:101;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:159:"Создайте текстовый файл с любым названием и вставьте в него строки следующего формата:";}i:2;i:6364;}i:102;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:6523;}i:103;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:161:"[<название_профиля>]
title=<заголовок>
description=<краткое описание>
ports=<список портов>/<протокол>";i:1;N;i:2;N;}i:2;i:6531;}i:104;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:6531;}i:105;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:17:"Например:";}i:2;i:6702;}i:106;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:6725;}i:107;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:124:"[App1]
title=Text editor
description=Most popular open source application for editing text.
ports=53,80,5223,16393:16472/udp";i:1;N;i:2;N;}i:2;i:6725;}i:108;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:6725;}i:109;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:113:"Для того, чтобы файл был виден брандмауэру, перезагрузите его:";}i:2;i:6860;}i:110;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:6973;}i:111;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:10:"ufw reload";i:1;N;i:2;N;}i:2;i:6981;}i:112;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:6981;}i:113;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:84:"Далее разрешите или запретите доступ профилю:";}i:2;i:7001;}i:114;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:7085;}i:115;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:51:"ufw <allow/deny> <название_профиля>
";i:1;N;i:2;N;}i:2;i:7093;}i:116;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:7093;}i:117;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:17:"Например:";}i:2;i:7154;}i:118;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:7171;}i:119;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:15:"ufw allow App1
";i:1;N;i:2;N;}i:2;i:7179;}i:120;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:7179;}i:121;a:3:{i:0;s:11:"strong_open";i:1;a:0:{}i:2;i:7205;}i:122;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:30:"Работа с портами";}i:2;i:7207;}i:123;a:3:{i:0;s:12:"strong_close";i:1;a:0:{}i:2;i:7237;}i:124;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:7239;}i:125;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:7239;}i:126;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:96:"Для открытия портов используется ключевое слово allow.";}i:2;i:7242;}i:127;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:7338;}i:128;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:7338;}i:129;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:134:"С помощью следующей команды можно открыть порт для входящих подключений:";}i:2;i:7340;}i:130;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:7474;}i:131;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:44:"sudo ufw allow <порт>/<протокол>";i:1;N;i:2;N;}i:2;i:7482;}i:132;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:7482;}i:133;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:17:"Например:";}i:2;i:7535;}i:134;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:7552;}i:135;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:23:"sudo ufw allow 1234/tcp";i:1;N;i:2;N;}i:2;i:7559;}i:136;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:7559;}i:137;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:126:"Также можно открывать порты по именам конкретных сервисов, например:";}i:2;i:7592;}i:138;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:7718;}i:139;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:19:"sudo ufw allow http";i:1;N;i:2;N;}i:2;i:7726;}i:140;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:7726;}i:141;a:3:{i:0;s:13:"emphasis_open";i:1;a:0:{}i:2;i:7755;}i:142;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:175:"Примечание: если сервер использует порт не по умолчанию, то данное правило использовать нельзя.";}i:2;i:7757;}i:143;a:3:{i:0;s:14:"emphasis_close";i:1;a:0:{}i:2;i:7932;}i:144;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:7934;}i:145;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:7934;}i:146;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:102:"ufw позволяет открывать или закрывать промежуток портов:";}i:2;i:7936;}i:147;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:8044;}i:148;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:57:"sudo ufw allow <портN>:<портM>/<протокол>";i:1;N;i:2;N;}i:2;i:8044;}i:149;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:57:"sudo ufw allow <портN>:<портM>/<протокол>";i:1;N;i:2;N;}i:2;i:8117;}i:150;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:8117;}i:151;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:17:"Например:";}i:2;i:8183;}i:152;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:8200;}i:153;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:28:"sudo ufw allow 5000:5003/udp";i:1;N;i:2;N;}i:2;i:8207;}i:154;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:8207;}i:155;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:313:"Для закрытия портов используйте ключевое слово deny. Синтаксис ufw остается прежним, только allow заменяется на deny. Например, чтобы закрыть порт используется следующая команда:";}i:2;i:8244;}i:156;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:8557;}i:157;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:43:"sudo ufw deny <порт>/<протокол>";i:1;N;i:2;N;}i:2;i:8564;}i:158;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:8564;}i:159;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:17:"Например:";}i:2;i:8617;}i:160;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:8634;}i:161;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:22:"sudo ufw deny 1234/tcp";i:1;N;i:2;N;}i:2;i:8641;}i:162;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:8641;}i:163;a:3:{i:0;s:11:"strong_open";i:1;a:0:{}i:2;i:8674;}i:164;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:35:"Работа с IP-адресами";}i:2;i:8676;}i:165;a:3:{i:0;s:12:"strong_close";i:1;a:0:{}i:2;i:8711;}i:166;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:8713;}i:167;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:8713;}i:168;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:193:"Чтобы разрешить соединение ко всем портам сервера с конкретного IP-адреса, используйте следующую команду:";}i:2;i:8715;}i:169;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:8908;}i:170;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:35:"sudo ufw allow from <IP-адрес>";i:1;N;i:2;N;}i:2;i:8915;}i:171;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:8915;}i:172;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:18:"К примеру:";}i:2;i:8959;}i:173;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:8983;}i:174;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:35:"sudo ufw allow from 111.111.111.111";i:1;N;i:2;N;}i:2;i:8983;}i:175;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:8983;}i:176;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:149:"Также можно разрешить подключаться к конкретному порту с определенного IP-адреса:";}i:2;i:9028;}i:177;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:9183;}i:178;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:58:"sudo ufw allow from <IP-адрес> to any port <порт>";i:1;N;i:2;N;}i:2;i:9183;}i:179;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:9183;}i:180;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:13:"Пример:";}i:2;i:9251;}i:181;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:9270;}i:182;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:50:"sudo ufw allow from 111.111.111.111 to any port 22";i:1;N;i:2;N;}i:2;i:9270;}i:183;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:9270;}i:184;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:101:"Для запрета подключения используйте ключевое слово deny:";}i:2;i:9330;}i:185;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:9437;}i:186;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:34:"sudo ufw deny from <IP-адрес>";i:1;N;i:2;N;}i:2;i:9437;}i:187;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:9437;}i:188;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:13:"Пример:";}i:2;i:9480;}i:189;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:9493;}i:190;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:34:"sudo ufw deny from 111.111.111.111";i:1;N;i:2;N;}i:2;i:9500;}i:191;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:9500;}i:192;a:3:{i:0;s:11:"strong_open";i:1;a:0:{}i:2;i:9544;}i:193;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:32:"Работа с подсетью";}i:2;i:9546;}i:194;a:3:{i:0;s:12:"strong_close";i:1;a:0:{}i:2;i:9578;}i:195;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:9580;}i:196;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:9580;}i:197;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:168:"С помощью утилиты ufw можно разрешить получение трафика со всей подсети с помощью нотации CIDR:";}i:2;i:9583;}i:198;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:9757;}i:199;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:36:"sudo ufw allow from <подсеть>";i:1;N;i:2;N;}i:2;i:9757;}i:200;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:9757;}i:201;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:17:"Например:";}i:2;i:9802;}i:202;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:9825;}i:203;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:34:"sudo ufw allow from 192.168.1.0/24";i:1;N;i:2;N;}i:2;i:9825;}i:204;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:9825;}i:205;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:107:"Также можно направить трафик с подсети на конкретный порт:";}i:2;i:9869;}i:206;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:9982;}i:207;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:59:"sudo ufw allow from <подсеть> to any port <порт>";i:1;N;i:2;N;}i:2;i:9982;}i:208;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:9982;}i:209;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:17:"Например:";}i:2;i:10050;}i:210;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:10073;}i:211;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:49:"sudo ufw allow from 192.168.1.0/24 to any port 22";i:1;N;i:2;N;}i:2;i:10073;}i:212;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:10073;}i:213;a:3:{i:0;s:13:"emphasis_open";i:1;a:0:{}i:2;i:10132;}i:214;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:126:"Примечание: для запрета данных правил используйте ключевое слово deny.";}i:2;i:10134;}i:215;a:3:{i:0;s:14:"emphasis_close";i:1;a:0:{}i:2;i:10260;}i:216;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:10262;}i:217;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:10262;}i:218;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:214:"Работа с сетевым интерфейсом
С помощью ufw можно настроить подключение к конкретному порту определенного интерфейса:";}i:2;i:10264;}i:219;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:10484;}i:220;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:73:"sudo ufw allow in on <имя интерфейса> to any port <порт>";i:1;N;i:2;N;}i:2;i:10484;}i:221;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:10484;}i:222;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:17:"Например:";}i:2;i:10567;}i:223;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:10590;}i:224;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:40:"sudo ufw allow in on eth2 to any port 22";i:1;N;i:2;N;}i:2;i:10590;}i:225;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:10590;}i:226;a:3:{i:0;s:13:"emphasis_open";i:1;a:0:{}i:2;i:10640;}i:227;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:160:"Примечание: имена всех интерфейсов сервера можно просмотреть с помощью команды ifconfig -a.
";}i:2;i:10642;}i:228;a:3:{i:0;s:14:"emphasis_close";i:1;a:0:{}i:2;i:10802;}i:229;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:10804;}i:230;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:10804;}i:231;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:150:"Удаление правил
Для удаления правил выведете нумерованный список текущих правил:";}i:2;i:10806;}i:232;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:10956;}i:233;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:24:"sudo ufw status numbered";i:1;N;i:2;N;}i:2;i:10963;}i:234;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:10963;}i:235;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:65:"Удалите правила под нужным номером:";}i:2;i:10997;}i:236;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:11068;}i:237;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:43:"sudo ufw delete <номер_правила>";i:1;N;i:2;N;}i:2;i:11068;}i:238;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:11068;}i:239;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:13:"Пример:";}i:2;i:11121;}i:240;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:11140;}i:241;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:17:"sudo ufw delete 1";i:1;N;i:2;N;}i:2;i:11140;}i:242;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:11140;}i:243;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:125:"Также можно удалить правило с помощью ключевого слова delete, например:";}i:2;i:11167;}i:244;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:11298;}i:245;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:25:"sudo ufw delete allow 443";i:1;N;i:2;N;}i:2;i:11298;}i:246;a:3:{i:0;s:13:"section_close";i:1;a:0:{}i:2;i:11331;}i:247;a:3:{i:0;s:12:"document_end";i:1;a:0:{}i:2;i:11331;}}