a:43:{i:0;a:3:{i:0;s:14:"document_start";i:1;a:0:{}i:2;i:0;}i:1;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:0;}i:2;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:755:"Сколько осталось свободного места? Кто его занял? С этими двумя вопросами сталкиваться приходится постоянно, особенно администраторам файловых серверов. Если на платформе Windows, в графическом окружении выяснить это не составляет особого труда, то консоль серверных версий Linux способна многих привести в замешательство. Однако не стоит пугаться, получить интересующую информацию в среде Linux тоже довольно просто.";}i:2;i:1;}i:3;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:756;}i:4;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:756;}i:5;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:463:"Как показала практика, данный вопрос актуален не только для начинающих администраторов. Действительно, недостаточно просто узнать размер файла или папки, а нужно быстро и эффективно выяснить кто именно занял место на диске и чем. Но обо всем по порядку.";}i:2;i:758;}i:6;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:1221;}i:7;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:1221;}i:8;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:190:"Начнем с простого вопроса, как посмотреть сколько свободного места осталось. Для этой цели есть команда";}i:2;i:1223;}i:9;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:1413;}i:10;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:5:"df -h";i:1;N;i:2;N;}i:2;i:1420;}i:11;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:1420;}i:12;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:406:"которая выводит список всех файловых систем, их размер и точки монтирования. Ключ -h позволяет вывести информацию в удобном для восприятия виде - в мегабайтах и гигабайтах, без ключа информация о размере выводится в блоках.";}i:2;i:1435;}i:13;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:1841;}i:14;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:1841;}i:15;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:427:"На первый вопрос мы ответили, но, как правило, этот ответ порождает еще больше вопросов. Из полученной информации абсолютно не ясно чем именно заполнен диск. Это могут быть как важные данные, так и фотографии с последнего корпоратива, ";}i:2;i:1845;}i:16;a:3:{i:0;s:18:"doublequoteopening";i:1;a:0:{}i:2;i:2272;}i:17;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:18:"заботливо";}i:2;i:2273;}i:18;a:3:{i:0;s:18:"doublequoteclosing";i:1;a:0:{}i:2;i:2291;}i:19;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:370:" продублированные пользователями по своим сетевым папкам. В первом случае надо думать об увеличении объема дисковой подсистемы, а во втором можно смело чистить диск и проводить разъяснительные беседы.";}i:2;i:2292;}i:20;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:2662;}i:21;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:2662;}i:22;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:429:"Чтобы ответить на второй вопрос нам нужно знать размеры отдельных папок и файлов. В Linux системах это можно сделать командой du с указанием интересующей папки, также можно указать ключ -h для получения удобных для восприятия результатов.";}i:2;i:2664;}i:23;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:3093;}i:24;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:3093;}i:25;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:243:"Несмотря на то, что эта команда работает, практической пользы от нее нет. Почему? Сейчас поясним, ниже приведена часть вывода команды:";}i:2;i:3095;}i:26;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:3338;}i:27;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:10:"du -h /usr";i:1;N;i:2;N;}i:2;i:3345;}i:28;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:3345;}i:29;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:377:"Да, мы узнали что папка /usr имеет размер 498 Мб, но представления о том, что именно занимает основное место в этой папке мы не получили. Цельной картины о заполнении дискового пространства как не было, так и нет.";}i:2;i:3365;}i:30;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:3742;}i:31;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:3742;}i:32;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:274:"Но не стоит отчаиваться, на помощь нам придет небольшая утилита ncdu, в стандартной установке ее нет, но она без проблем устанавливается из репозитория:";}i:2;i:3744;}i:33;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:4018;}i:34;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:25:"sudo apt-get install ncdu";i:1;N;i:2;N;}i:2;i:4025;}i:35;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:4025;}i:36;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:312:"Запущенная без параметров утилита выводит информацию о текущей папке, но так как нас интересует вся файловая система, то в качестве параметра укажем корневую директорию:";}i:2;i:4059;}i:37;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:4371;}i:38;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:6:"ncdu /";i:1;N;i:2;N;}i:2;i:4378;}i:39;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:4378;}i:40;a:3:{i:0;s:12:"externallink";i:1;a:2:{i:0;s:28:"https://youtu.be/nKJ_emIG7fA";i:1;N;}i:2;i:4395;}i:41;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:4423;}i:42;a:3:{i:0;s:12:"document_end";i:1;a:0:{}i:2;i:4423;}}